import Foundation

// MARK: - User Model (For reading data from Firestore)
struct User {
    let uid: String
    let name: String
    let email: String
    let role: String
    
    // Optional properties (because they might not exist yet)
    let username: String?
    let profileImageURL: String?
    
    // Initializer to map Firestore Data (Dictionary) to User object
    init?(dictionary: [String: Any]) {
        // Ensure mandatory fields exist
        guard let name = dictionary["name"] as? String,
              let email = dictionary["email"] as? String,
              let role = dictionary["role"] as? String else {
            return nil
        }
        
        // Map the properties
        self.uid = dictionary["uid"] as? String ?? ""
        self.name = name
        self.email = email
        self.role = role
        
        // Map optional properties
        self.username = dictionary["username"] as? String
        self.profileImageURL = dictionary["profileImageURL"] as? String
    }
}

// MARK: - Register Request Model (For Sign Up)
struct RegisterUserRequest {
    let name: String
    let email: String
    let password: String
    let role: String // Seeker or Provider
    let phone: String
}
